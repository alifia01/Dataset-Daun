import cv2
import numpy as np
import glob

#membaca pixel image (blue, green, red)
image = cv2.imread("Dataset/Seledri/001.jpg")
print(image)

#resize image (mempertahankan aspect ratio)
r = 400/image.shape[1]
dim = (400,int(image.shape[0]*r))
im_resized = cv2.resize(image, dim)

cv2.imshow('im_resized',im_resized)
cv2.waitKey(0)
cv2.destroyAllWindows()

#adjust image contrast (mengatur kontras)
import numpy as np
im_adjusted = cv2.addWeighted(im_resized, 1.5, np.zeros(im_resized.shape, im_resized.dtype), 0, -100)
im_edges = cv2.Canny(im_resized, 100, 200)

cv2.imshow('original image', im_resized)
cv2.imshow('adjusted image', im_adjusted)
cv2.imshow('Detected Edges', im_edges)
cv2.waitKey(0)
cv2.destroyAllWindows()

#ubah se-folder
imdir = 'Dataset/Seledri/'
ext = ['jpg']

files = []
[files.extend(glob.glob(imdir + '*.' + e)) for e in ext]

images = [cv2.imread(file) for file in files]

i = 1
for img in images:
    im_adjusted = cv2.addWeighted(img, 1.5, np.zeros(img.shape, img.dtype), 0, -100)
    im_name = "Dataset/Seledri_Contrast/" + str(i) + ".jpg"
    cv2.imwrite(im_name, im_adjusted)
    i += 1